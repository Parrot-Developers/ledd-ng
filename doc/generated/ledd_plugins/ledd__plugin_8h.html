<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ledd_plugins: ledd_plugins/include/ledd_plugin.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ledd_plugins
   </div>
   <div id="projectbrief">Library for implementing ledd plug-ins</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4ee367ea36ba15fe49951e25608642ac.html">ledd_plugins</a></li><li class="navelem"><a class="el" href="dir_94629da614db8e474fb2443154d15a9a.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ledd_plugin.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Public API header for the implementation of ledd plugins.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;lua.h&gt;</code><br />
<code>#include &lt;rs_node.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ledd_plugin.h:</div>
<div class="dyncontent">
<div class="center"><img src="ledd__plugin_8h__incl.png" border="0" usemap="#ledd__plugins_2include_2ledd__plugin_8h" alt=""/></div>
<map name="ledd__plugins_2include_2ledd__plugin_8h" id="ledd__plugins_2include_2ledd__plugin_8h">
</map>
</div>
</div>
<p><a href="ledd__plugin_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structled__channel.html">led_channel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">channel of a led, e.g. red, green or blue channel of an RGB led  <a href="structled__channel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structled.html">led</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structled__driver__ops.html">led_driver_ops</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">operations for implementing a led driver  <a href="structled__driver__ops.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structled__driver.html">led_driver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">main structure of a led driver  <a href="structled__driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae326615eb7ba928f0b56affc6d3bccbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#ae326615eb7ba928f0b56affc6d3bccbf">LEDD_PLUGINS_MAX</a>&#160;&#160;&#160;20</td></tr>
<tr class="memdesc:ae326615eb7ba928f0b56affc6d3bccbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of plug-ins that ledd can register  <a href="#ae326615eb7ba928f0b56affc6d3bccbf">More...</a><br /></td></tr>
<tr class="separator:ae326615eb7ba928f0b56affc6d3bccbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769a65f96d601867bf5c636be7e6a78f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a769a65f96d601867bf5c636be7e6a78f">LED_MAX_CHANNELS_PER_LED</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a769a65f96d601867bf5c636be7e6a78f"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of channels a led can have  <a href="#a769a65f96d601867bf5c636be7e6a78f">More...</a><br /></td></tr>
<tr class="separator:a769a65f96d601867bf5c636be7e6a78f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327bcd42c861ce4ba859c37a42f0fa60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a327bcd42c861ce4ba859c37a42f0fa60">LED_CHANNEL_MAX</a>&#160;&#160;&#160;UINT8_MAX</td></tr>
<tr class="memdesc:a327bcd42c861ce4ba859c37a42f0fa60"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum value a channel can be set to  <a href="#a327bcd42c861ce4ba859c37a42f0fa60">More...</a><br /></td></tr>
<tr class="separator:a327bcd42c861ce4ba859c37a42f0fa60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac950194651a7a402636355cb6eefbaf1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#ac950194651a7a402636355cb6eefbaf1">LED_MAX_DRIVERS</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:ac950194651a7a402636355cb6eefbaf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of led drivers which can be registered  <a href="#ac950194651a7a402636355cb6eefbaf1">More...</a><br /></td></tr>
<tr class="separator:ac950194651a7a402636355cb6eefbaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3874770af9ae3b8b75271ce1de47b76a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a3874770af9ae3b8b75271ce1de47b76a">TRANSITION_MAX</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a3874770af9ae3b8b75271ce1de47b76a"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of different transitions that can be registered into ledd  <a href="#a3874770af9ae3b8b75271ce1de47b76a">More...</a><br /></td></tr>
<tr class="separator:a3874770af9ae3b8b75271ce1de47b76a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a41661f9d54e278721c178dcb79c1e64f"><td class="memItemLeft" align="right" valign="top">typedef uint8_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a41661f9d54e278721c178dcb79c1e64f">transition_function</a> )(uint32_t nb_values, uint32_t value_idx, uint8_t start_value, uint8_t end_value)</td></tr>
<tr class="memdesc:a41661f9d54e278721c178dcb79c1e64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">type of the functions used to implement a transition, concretely, must implement a mapping of [0,nb_value] onto [start_value,end_value]  <a href="#a41661f9d54e278721c178dcb79c1e64f">More...</a><br /></td></tr>
<tr class="separator:a41661f9d54e278721c178dcb79c1e64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac0ebd849625cc09eb387168fe9c34b3e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a> { <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3eabdf8a2ae48226af6af36b66f7d6520c0">LUA_GLOBALS_CONFIG_GLOBAL</a>, 
<a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3ea5a8977b9cbd6bfdb8156d3f165ac7e90">LUA_GLOBALS_CONFIG_PLATFORM</a>, 
<a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3ea2ec9a128653006da12c117c548584529">LUA_GLOBALS_CONFIG_PATTERNS</a>
 }</td></tr>
<tr class="memdesc:ac0ebd849625cc09eb387168fe9c34b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to indicate to which configuration file a lua global must be available  <a href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">More...</a><br /></td></tr>
<tr class="separator:ac0ebd849625cc09eb387168fe9c34b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f9663b913c50b60cd3db763c8f89d73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a2f9663b913c50b60cd3db763c8f89d73">led_driver_register</a> (struct <a class="el" href="structled__driver.html">led_driver</a> *driver)</td></tr>
<tr class="memdesc:a2f9663b913c50b60cd3db763c8f89d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">registers a led driver in ledd  <a href="#a2f9663b913c50b60cd3db763c8f89d73">More...</a><br /></td></tr>
<tr class="separator:a2f9663b913c50b60cd3db763c8f89d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099e57d1a0258a2ca296485188725e2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a099e57d1a0258a2ca296485188725e2b">led_driver_tick_all_drivers</a> (void)</td></tr>
<tr class="memdesc:a099e57d1a0258a2ca296485188725e2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">notifies all the drivers that all the set_value calls have been performed during this tick  <a href="#a099e57d1a0258a2ca296485188725e2b">More...</a><br /></td></tr>
<tr class="separator:a099e57d1a0258a2ca296485188725e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae6ba6b0cbdb28afec0a8ce92154939e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#aae6ba6b0cbdb28afec0a8ce92154939e">led_driver_unregister</a> (const struct <a class="el" href="structled__driver.html">led_driver</a> *driver)</td></tr>
<tr class="memdesc:aae6ba6b0cbdb28afec0a8ce92154939e"><td class="mdescLeft">&#160;</td><td class="mdescRight">un-registers a led driver from ledd  <a href="#aae6ba6b0cbdb28afec0a8ce92154939e">More...</a><br /></td></tr>
<tr class="separator:aae6ba6b0cbdb28afec0a8ce92154939e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109a815aa85e01f68b3f8dc3d04dabbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a109a815aa85e01f68b3f8dc3d04dabbc">led_new</a> (const char *driver, const char *led_id)</td></tr>
<tr class="memdesc:a109a815aa85e01f68b3f8dc3d04dabbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">builds a new led  <a href="#a109a815aa85e01f68b3f8dc3d04dabbc">More...</a><br /></td></tr>
<tr class="separator:a109a815aa85e01f68b3f8dc3d04dabbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68990ba92fb7fd3ec1b34e5c3e8e84f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a68990ba92fb7fd3ec1b34e5c3e8e84f0">led_channel_new</a> (const char *led_id, const char *channel_id, const char *parameters)</td></tr>
<tr class="memdesc:a68990ba92fb7fd3ec1b34e5c3e8e84f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">build a new led channel  <a href="#a68990ba92fb7fd3ec1b34e5c3e8e84f0">More...</a><br /></td></tr>
<tr class="separator:a68990ba92fb7fd3ec1b34e5c3e8e84f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb396994daf48f66a03aa0c430bd8feb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#afb396994daf48f66a03aa0c430bd8feb">led_driver_set_value</a> (const char *led_id, const char *channel_id, uint8_t value)</td></tr>
<tr class="memdesc:afb396994daf48f66a03aa0c430bd8feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the value of a led channel  <a href="#afb396994daf48f66a03aa0c430bd8feb">More...</a><br /></td></tr>
<tr class="separator:afb396994daf48f66a03aa0c430bd8feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4a9b8c9b99c1e2d7b854efc99584c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a9b4a9b8c9b99c1e2d7b854efc99584c9">transition_register</a> (const char *name, <a class="el" href="ledd__plugin_8h.html#a41661f9d54e278721c178dcb79c1e64f">transition_function</a> compute)</td></tr>
<tr class="separator:a9b4a9b8c9b99c1e2d7b854efc99584c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaabd3ae8f9c6359f08cc7b3d676d06a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#aeaabd3ae8f9c6359f08cc7b3d676d06a">transition_clip_value</a> (int value)</td></tr>
<tr class="memdesc:aeaabd3ae8f9c6359f08cc7b3d676d06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clip an integer value into the [0,255] interval.  <a href="#aeaabd3ae8f9c6359f08cc7b3d676d06a">More...</a><br /></td></tr>
<tr class="separator:aeaabd3ae8f9c6359f08cc7b3d676d06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438dfa6bf6cec5bff3249fcd7fd1989a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a438dfa6bf6cec5bff3249fcd7fd1989a">transition_clip_float</a> (float t)</td></tr>
<tr class="memdesc:a438dfa6bf6cec5bff3249fcd7fd1989a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clip a float value into the [0,1] interval.  <a href="#a438dfa6bf6cec5bff3249fcd7fd1989a">More...</a><br /></td></tr>
<tr class="separator:a438dfa6bf6cec5bff3249fcd7fd1989a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b42460f30c9463ccfd3bd0d12d4dc2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#a70b42460f30c9463ccfd3bd0d12d4dc2">transition_map_to</a> (float t, uint8_t start_value, uint8_t end_value)</td></tr>
<tr class="memdesc:a70b42460f30c9463ccfd3bd0d12d4dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">clips t in [0,1] and maps it linearly to [start_value,end_value]  <a href="#a70b42460f30c9463ccfd3bd0d12d4dc2">More...</a><br /></td></tr>
<tr class="separator:a70b42460f30c9463ccfd3bd0d12d4dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f6efed730d415920f88429aa3f633e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#ac2f6efed730d415920f88429aa3f633e">lua_globals_register_int</a> (const char *name, int value, enum <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a> config)</td></tr>
<tr class="memdesc:ac2f6efed730d415920f88429aa3f633e"><td class="mdescLeft">&#160;</td><td class="mdescRight">registers an integer lua global variable  <a href="#ac2f6efed730d415920f88429aa3f633e">More...</a><br /></td></tr>
<tr class="separator:ac2f6efed730d415920f88429aa3f633e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00798fc25d143f8a004eda9d4f801d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ledd__plugin_8h.html#ae00798fc25d143f8a004eda9d4f801d6">lua_globals_register_cfunction</a> (const char *name, lua_CFunction func, enum <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a> config)</td></tr>
<tr class="memdesc:ae00798fc25d143f8a004eda9d4f801d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">registers an C function lua global variable  <a href="#ae00798fc25d143f8a004eda9d4f801d6">More...</a><br /></td></tr>
<tr class="separator:ae00798fc25d143f8a004eda9d4f801d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Public API header for the implementation of ledd plugins. </p>
<p>Copyright (c) 2016 Parrot S.A. All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><ul>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the Parrot Company nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE PARROT COMPANY BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a327bcd42c861ce4ba859c37a42f0fa60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_CHANNEL_MAX&#160;&#160;&#160;UINT8_MAX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum value a channel can be set to </p>

</div>
</div>
<a class="anchor" id="a769a65f96d601867bf5c636be7e6a78f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_MAX_CHANNELS_PER_LED&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of channels a led can have </p>

</div>
</div>
<a class="anchor" id="ac950194651a7a402636355cb6eefbaf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_MAX_DRIVERS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of led drivers which can be registered </p>

</div>
</div>
<a class="anchor" id="ae326615eb7ba928f0b56affc6d3bccbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDD_PLUGINS_MAX&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of plug-ins that ledd can register </p>

</div>
</div>
<a class="anchor" id="a3874770af9ae3b8b75271ce1de47b76a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRANSITION_MAX&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum number of different transitions that can be registered into ledd </p>
<dl class="section note"><dt>Note</dt><dd>2 are already registered by ledd, cosine and ramp, hence this number is reduced by 2 </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a41661f9d54e278721c178dcb79c1e64f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">transition_function</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>type of the functions used to implement a transition, concretely, must implement a mapping of [0,nb_value] onto [start_value,end_value] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nb_values</td><td>maximum value of the initial interval </td></tr>
    <tr><td class="paramname">value_idx</td><td>number in [0,nb_value] </td></tr>
    <tr><td class="paramname">start_value</td><td>initial value of the target interval </td></tr>
    <tr><td class="paramname">end_value</td><td>end value of the target interval </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value in [start_value,end_value] </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ac0ebd849625cc09eb387168fe9c34b3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>used to indicate to which configuration file a lua global must be available </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac0ebd849625cc09eb387168fe9c34b3eabdf8a2ae48226af6af36b66f7d6520c0"></a>LUA_GLOBALS_CONFIG_GLOBAL&#160;</td><td class="fielddoc">
<p>lua global is available in global.conf config file </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac0ebd849625cc09eb387168fe9c34b3ea5a8977b9cbd6bfdb8156d3f165ac7e90"></a>LUA_GLOBALS_CONFIG_PLATFORM&#160;</td><td class="fielddoc">
<p>lua global is available in platform.conf config file </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac0ebd849625cc09eb387168fe9c34b3ea2ec9a128653006da12c117c548584529"></a>LUA_GLOBALS_CONFIG_PATTERNS&#160;</td><td class="fielddoc">
<p>lua global is available in patterns.conf config file </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a68990ba92fb7fd3ec1b34e5c3e8e84f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_channel_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>led_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>build a new led channel </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_id</td><td>led name (unique) </td></tr>
    <tr><td class="paramname">channel_id</td><td>led channel name (unique) </td></tr>
    <tr><td class="paramname">parameters</td><td>parameters string for configuring the channel, can be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="a2f9663b913c50b60cd3db763c8f89d73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_driver_register </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structled__driver.html">led_driver</a> *&#160;</td>
          <td class="paramname"><em>driver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>registers a led driver in ledd </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driver</td><td>driver to register </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="afb396994daf48f66a03aa0c430bd8feb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_driver_set_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>led_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the value of a led channel </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_id</td><td>name of the led </td></tr>
    <tr><td class="paramname">channel_id</td><td>name of the led channel to set the value of </td></tr>
    <tr><td class="paramname">value</td><td>value to set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="a099e57d1a0258a2ca296485188725e2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_driver_tick_all_drivers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>notifies all the drivers that all the set_value calls have been performed during this tick </p>

</div>
</div>
<a class="anchor" id="aae6ba6b0cbdb28afec0a8ce92154939e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void led_driver_unregister </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structled__driver.html">led_driver</a> *&#160;</td>
          <td class="paramname"><em>driver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>un-registers a led driver from ledd </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driver</td><td>driver to un-register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a109a815aa85e01f68b3f8dc3d04dabbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int led_new </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>driver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>led_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>builds a new led </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">driver</td><td>name of the driver driving the led's channel </td></tr>
    <tr><td class="paramname">led_id</td><td>name (unique) of the led </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="ae00798fc25d143f8a004eda9d4f801d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lua_globals_register_cfunction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lua_CFunction&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>registers an C function lua global variable </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the variable to register </td></tr>
    <tr><td class="paramname">func</td><td>function to put in it </td></tr>
    <tr><td class="paramname">config</td><td>config file this global will be available into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="ac2f6efed730d415920f88429aa3f633e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lua_globals_register_int </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ledd__plugin_8h.html#ac0ebd849625cc09eb387168fe9c34b3e">lua_globals_config_type</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>registers an integer lua global variable </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the variable to register </td></tr>
    <tr><td class="paramname">value</td><td>value to put in it </td></tr>
    <tr><td class="paramname">config</td><td>config file this global will be available into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
<a class="anchor" id="a438dfa6bf6cec5bff3249fcd7fd1989a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float transition_clip_float </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clip a float value into the [0,1] interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>float to clip </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>clipped value in [0,1] </dd></dl>

</div>
</div>
<a class="anchor" id="aeaabd3ae8f9c6359f08cc7b3d676d06a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t transition_clip_value </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clip an integer value into the [0,255] interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>value to clip </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value clipped into [0,255] </dd></dl>

</div>
</div>
<a class="anchor" id="a70b42460f30c9463ccfd3bd0d12d4dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t transition_map_to </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>start_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>end_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>clips t in [0,1] and maps it linearly to [start_value,end_value] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>value to clip and map </td></tr>
    <tr><td class="paramname">start_value</td><td>start value of target interval </td></tr>
    <tr><td class="paramname">end_value</td><td>end value of target interval </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value mapped into [start_value,end_value] </dd></dl>

</div>
</div>
<a class="anchor" id="a9b4a9b8c9b99c1e2d7b854efc99584c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int transition_register </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ledd__plugin_8h.html#a41661f9d54e278721c178dcb79c1e64f">transition_function</a>&#160;</td>
          <td class="paramname"><em>compute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the transition to register </td></tr>
    <tr><td class="paramname">compute</td><td>function used to compute the transition's value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, errno-compatible negative value on error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 30 2016 14:44:43 for ledd_plugins by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
